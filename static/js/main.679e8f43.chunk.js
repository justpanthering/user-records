(this["webpackJsonpdata-peace-ai-assignment"]=this["webpackJsonpdata-peace-ai-assignment"]||[]).push([[0],{15:function(e,a,t){e.exports={Users:"Users_Users__3bdt9",Table:"Users_Table__35LK5",Pagination:"Users_Pagination__2roxS",SearchForm:"Users_SearchForm__2Jv_9"}},16:function(e,a,t){e.exports={User:"User_User__et_Hq",Body:"User_Body__2rGNd",Back:"User_Back__2dq4A"}},21:function(e,a,t){e.exports={Toolbar:"Toolbar_Toolbar__3SeYc",Logo:"Toolbar_Logo__3GrLL"}},22:function(e,a,t){e.exports={TableHeading:"TableHeading_TableHeading__1b8_c",Icon:"TableHeading_Icon__2S-l8"}},43:function(e,a,t){e.exports=t(73)},48:function(e,a,t){},49:function(e,a,t){},73:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(14),c=t.n(r),o=(t(48),t(49),t(50),t(21)),u=t.n(o),i=function(){return l.a.createElement("div",{className:u.a.Toolbar},l.a.createElement("h2",{className:u.a.Logo},"User Records"))},s=t(13),m=t(12),E=t(15),d=t.n(E),g=t(76),b=t(75),p=t(77),f=function(e){return l.a.createElement(p.a.Item,{onClick:function(){return e.clickPage(e.page)}},e.page)},v=function(e){return l.a.createElement(p.a,null,e.currPage<=3?l.a.createElement(n.Fragment,null,l.a.createElement(p.a.First,{disabled:!0}),1===e.currPage?l.a.createElement(p.a.Prev,{disabled:!0}):l.a.createElement(p.a.Prev,{onClick:function(){e.pageClick(e.currPage-1)}})):l.a.createElement(n.Fragment,null,l.a.createElement(p.a.First,{onClick:function(){e.pageClick(1)}}),l.a.createElement(p.a.Prev,{onClick:function(){e.pageClick(e.currPage-1)}}),l.a.createElement(f,{page:1,clickPage:e.pageClick}),l.a.createElement(p.a.Ellipsis,{disabled:!0})),e.currPage-2>0?l.a.createElement(f,{page:e.currPage-2,clickPage:e.pageClick}):null,e.currPage-1>0?l.a.createElement(f,{page:e.currPage-1,clickPage:e.pageClick}):null,l.a.createElement(p.a.Item,{active:!0},e.currPage),e.currPage+1<=Math.ceil(e.dataCount/e.resultPerPage)?l.a.createElement(f,{page:e.currPage+1,clickPage:e.pageClick}):null,e.currPage+2<=Math.ceil(e.dataCount/e.resultPerPage)?l.a.createElement(f,{page:e.currPage+2,clickPage:e.pageClick}):null,e.currPage<Math.ceil(e.dataCount/e.resultPerPage)-2?l.a.createElement(n.Fragment,null,l.a.createElement(p.a.Ellipsis,{disabled:!0}),l.a.createElement(f,{page:Math.ceil(e.dataCount/e.resultPerPage),clickPage:e.pageClick}),l.a.createElement(p.a.Next,{onClick:function(){e.pageClick(e.currPage+1)}}),l.a.createElement(p.a.Last,{onClick:function(){e.pageClick(Math.ceil(e.dataCount/e.resultPerPage))}})):l.a.createElement(n.Fragment,null,e.currPage===e.dataCount/e.resultPerPage?l.a.createElement(p.a.Next,{disabled:!0}):l.a.createElement(p.a.Next,{onClick:function(){e.pageClick(e.currPage+1)}}),l.a.createElement(p.a.Last,{disabled:!0})))},h=t(22),P=t.n(h),C=function(e){var a=["fa fa-sort",P.a.Icon].join(" ");return l.a.createElement("div",{className:P.a.TableHeading},l.a.createElement("span",null,e.children),l.a.createElement("i",{className:a,"aria-hidden":"true"}))},_=t(6),k=t(36),j=t.n(k),O=Object(n.createContext)(),N=Object(n.createContext)(),y=Object(n.createContext)(),T=Object(n.createContext)(),w=function(){return Object(n.useContext)(O)},x=function(e){var a=e.children,t=Object(n.useState)({data:[],subData:[],sortType:null,error:null,query:""}),r=Object(s.a)(t,2),c=r[0],o=r[1],u=function(e,a,t){return e.sort((function(e,n){return null===a||"descending"===a?e[t]<n[t]?-1:e[t]>n[t]?1:0:e[t]>n[t]?-1:e[t]<n[t]?1:0})),e};return Object(n.useEffect)((function(){j.a.get("https://datapeace-storage.s3-us-west-2.amazonaws.com/dummy_data/users.json").then((function(e){o(Object(_.a)(Object(_.a)({},c),{},{data:e.data,error:null}))})).catch((function(e){console.log(e),o(Object(_.a)(Object(_.a)({},c),{},{error:e.message}))}))}),[]),l.a.createElement(O.Provider,{value:c},l.a.createElement(N.Provider,{value:function(e){o(Object(_.a)(Object(_.a)({},c),{},{data:e}))}},l.a.createElement(y.Provider,{value:function(e){o(0===c.subData.length?Object(_.a)(Object(_.a)({},c),{},{data:u(c.data,c.sortType,e),sortType:null===c.sortType||"descending"===c.sortType?"ascending":"descending"}):Object(_.a)(Object(_.a)({},c),{},{subData:u(c.subData,c.sortType,e),sortType:null===c.sortType||"descending"===c.sortType?"ascending":"descending"}))}},l.a.createElement(T.Provider,{value:function(e){if(""===e)o(Object(_.a)(Object(_.a)({},c),{},{subData:[]}));else{var a=c.data.filter((function(a){if(a.first_name.toLowerCase().includes(e.toLowerCase())||a.last_name.toLowerCase().includes(e.toLowerCase()))return a}));o(Object(_.a)(Object(_.a)({},c),{},{subData:a,query:e}))}}},a))))},U=function(){var e=w(),a=Object(n.useState)(e.query),t=Object(s.a)(a,2),r=t[0],c=t[1],o=Object(n.useContext)(T);return l.a.createElement("form",{className:"form-inline"},l.a.createElement("div",{className:"form-group mr-sm-3 mb-2"},l.a.createElement("input",{type:"text",className:"form-control",id:"inputSearch",placeholder:"Search by First or Last Name",value:r,onChange:function(e){o(e.target.value),c(e.target.value)}})),l.a.createElement("button",{onClick:function(e){e.preventDefault(),o(r)},className:"btn btn-primary mb-2"},"Search"))},L=function(){var e=Object(n.useState)(1),a=Object(s.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)([]),o=Object(s.a)(c,2),u=o[0],i=o[1],E=w(),p=Object(n.useContext)(y);Object(n.useEffect)((function(){i(E.subData.length>0?E.subData:E.data)}),[E]);var f=E.error,h=null,P=null;return u.length>0?h=u.slice(10*(t-1),10*t).map((function(e){return l.a.createElement("tr",{key:e.id},l.a.createElement("td",null,l.a.createElement(m.b,{to:"/user/".concat(e.id)},e.first_name)),l.a.createElement("td",null,e.last_name),l.a.createElement("td",null,e.age),l.a.createElement("td",null,e.email),l.a.createElement("td",null,l.a.createElement("a",{href:e.web,target:"_blank"},e.web)))})):P=l.a.createElement(g.a,{variant:"danger",dismissible:!0},l.a.createElement(g.a.Heading,null,"Connection Error!!!"),l.a.createElement("p",null,f)),l.a.createElement(b.a,{className:d.a.Users},l.a.createElement("div",{className:d.a.Heading},l.a.createElement("h3",null,"Users")),l.a.createElement("div",{className:d.a.SearchForm},l.a.createElement(U,null),l.a.createElement("span",null,u.length," User(s) Found!")),l.a.createElement("div",{className:d.a.Table},P,l.a.createElement("table",{className:"table table-hover"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col",onClick:function(){p("first_name")}},l.a.createElement(C,null,"First Name")),l.a.createElement("th",{scope:"col",onClick:function(){p("last_name")}},l.a.createElement(C,null,"Last Name")),l.a.createElement("th",{scope:"col",onClick:function(){p("age")}},l.a.createElement(C,null,"Age")),l.a.createElement("th",{scope:"col",onClick:function(){p("email")}},l.a.createElement(C,null,"Email")),l.a.createElement("th",{scope:"col",onClick:function(){p("web")}},l.a.createElement(C,null,"Website")))),l.a.createElement("tbody",null,h))),l.a.createElement("div",{className:d.a.Pagination},u.length>0?l.a.createElement(v,{currPage:t,pageClick:function(e){console.log("changing page"),r(e)},dataCount:u.length,resultPerPage:10}):null))},S=t(3),F=t(16),D=t.n(F),H=function(e){return l.a.createElement("div",null,l.a.createElement("span",null,e.label),l.a.createElement("span",null,": "),l.a.createElement("span",null,l.a.createElement("strong",null,e.value)))},B=function(e){var a=w().data,t=Object(S.g)().id,n=null;return a.forEach((function(e){e.id===parseInt(t)&&(n=l.a.createElement("div",null,l.a.createElement(H,{label:"First Name",value:e.first_name}),l.a.createElement(H,{label:"Last Name",value:e.last_name}),l.a.createElement(H,{label:"Age",value:e.age}),l.a.createElement(H,{label:"Company Name",value:e.company_name}),l.a.createElement(H,{label:"City",value:e.city}),l.a.createElement(H,{label:"State",value:e.state}),l.a.createElement(H,{label:"Zip",value:e.zip}),l.a.createElement(H,{label:"Email",value:e.email}),l.a.createElement(H,{label:"Web",value:e.web})))})),l.a.createElement(b.a,{className:D.a.User},l.a.createElement("div",{className:D.a.Header},l.a.createElement(m.b,{className:D.a.Back,to:"/user"},l.a.createElement("i",{className:"fa fa-arrow-left","aria-hidden":"true"})),l.a.createElement("h3",null,"User Details")),l.a.createElement("div",{className:D.a.Body},n))},I=function(){return l.a.createElement(x,null,l.a.createElement(m.a,null,l.a.createElement(S.d,null,l.a.createElement(S.b,{exact:!0,path:"/",render:function(){return l.a.createElement(S.a,{to:"/user"})}}),l.a.createElement(S.b,{path:"/user/:id",component:B}),l.a.createElement(S.b,{path:"/user",component:L}))))},M=function(){return l.a.createElement("div",null,l.a.createElement(i,null),l.a.createElement(I,null))};var q=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(M,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[43,1,2]]]);
//# sourceMappingURL=main.679e8f43.chunk.js.map